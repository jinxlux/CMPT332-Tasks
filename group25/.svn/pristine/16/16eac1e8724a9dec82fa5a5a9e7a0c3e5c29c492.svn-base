CC = gcc
CFLAGS = -g
CPPFLAGS = -std=gnu90 -Wall -pedantic

.PHONY: clean all test
all: test

test: mytestlist

list_adders.o: list_adders.c
	$(CC) -c $(CFLAGS) $(CPPFLAGS) $^
list_movers.o: list_movers.c
	$(CC) -c $(CFLAGS) $(CPPFLAGS) list_movers.c
list_removers.o: list_removers.c
	$(CC) -c $(CFLAGS) $(CPPFLAGS) list_removers.c
liblist.a: list_movers.o list_adders.o list_removers.o
	ar rcs liblist.a list_movers.o list_adders.o list_removers.o
mytestlist.o: mytestlist.c
	$(CC) -c $(CFLAGS) $(CPPFLAGS) mytestlist.c
mytestlist: mytestlist.o liblist.a
	$(CC) -o mytestlist $(CFLAGS) $(CPPFLAGS) mytestlist.o -L. -llist
	
.PHONY: clean

clean:
	rm -f *.o *.a mytestlist